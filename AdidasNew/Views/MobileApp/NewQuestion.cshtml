@model AdidasNew.Models.DomainModels.Question

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>NewQuestion</title>
    <link href="~/Content/bootstrap.min.darkly.css" rel="stylesheet" />
    <link href="~/Content/Site.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-3.3.1.min.js"></script>
    <style>
        .wrapper {
            height: 100vh;
        }

        .loginForm {
            max-width: 600px;
            direction: rtl;
            padding: 10px 50px 100px 50px;
        }

        .lbl {
            color: black;
            text-align: right;
        }
    </style>

</head>
<body class=" wrapper">

    <div class="loginForm">
        @using (Html.BeginForm("NewQuestion", "MobileApp", FormMethod.Post, new { enctype = "multipart/form-data", id = "myUploadForm" }))
        {
            <div style="display:flex; justify-content:center; margin-bottom:20px;">
                <img src="~/Models/Repositores/question-marks.jpg" class="rounded-circle" width="200" height="200" alt="Cinque Terre">
            </div>

            <div class="col-lg-12">

                <div class="lbl">@Html.Label("سوال جدید را وارد کنید")</div>

                <p>
                    @Html.TextBoxFor(p => p.question, new { @class = "form-control", id = "txtquestion" })
                </p>
            </div>

            <div class="col-sm-4">
                <div class="lbl">
                    @Html.Label("سطح سوال")
                </div>
                <div id="salam" class="form-group">
                    @Html.DropDownListFor(p => p.Level, DropDown.GetStatusQuestion(), new { @class = "form-control _dropdown", style = " display: inline;" })
                </div>
            </div>

            <div class="form-group">
                <div id="messageSuccess" class=" col-sm-12" style="color:darkgreen;text-align:center;height:30px;width:100%;">
                    @ViewBag.Success
                </div>
            </div>
            <div class="form-group">
                <div class=" col-md-12 d-flex justify-content-around">
                    <input type="submit" value="ثبت سوال" class="btn btn-success" id="btnsend" />
                    <a href= "@ViewBag.back" class="btn  btn-primary"> بازگشت</a>
                </div>
            </div>
        }

    </div>


    <script>
        var send = true;

        $(document).ready(function () {
            $("#txtquestion").val("");

             if (@Model.Id!== 0) {
             $("#txtquestion").val("@Model.question");
                 $("#txtquestion").css("color", "blue");
                 $("select").val(@Model.Level);
                 $("#btnsend").val("ویرایش");
        }
        });


        $("#btnsend").click(function (evt) {

             if (send == false) {
                   evt.preventDefault();
            }
            if ($("#txtquestion").val() == "") {
                evt.preventDefault();
            }


        });

        $("#txtquestion").focus(function () {
            $("#messageSuccess").text("");
        });

        $("form").submit(function () {
            send = false;
        });

    </script>

</body>
</html>
